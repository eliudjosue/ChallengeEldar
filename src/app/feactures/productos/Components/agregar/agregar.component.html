<div class="login-container">
  <div class="surface-card p-4 shadow-2 border-round w-full lg:w-6">
    <h2>Gestionar Roles Por Correos Electrónicos</h2>

    <form (ngSubmit)="addEmail()" class="p-fluid">
      <label for="emailAddress" class="block text-900 font-medium mb-2">Correo Electrónico:</label>
      <input id="emailAddress" type="email" pInputText [(ngModel)]="emailAddress" name="emailAddress"
        placeholder="Correo Electrónico" class="w-full mb-3" />

      <div class="flex justify-content-center flex-wrap">
        <button pButton pRipple label="Añadir Correo" icon="pi pi-plus" type="submit" class="w-full mb-6"></button>
      </div>
    </form>

    <hr />

    <h3>Correos Existentes</h3>
    <ul class="grid">
      <li *ngFor="let email of emails; let i = index" class="col">
        <div class="col card flex justify-content-center">
          <strong>{{ email.address }}</strong>
        </div>
        <div class="col card flex justify-content-center">
          <button pButton icon="pi pi-trash" label="Eliminar" (click)="deleteEmail(email.id)" severity="danger" class="mr-2" size="small"></button>
          <button pButton icon="pi pi-pencil" label="Editar" (click)="showEditDialog(email)" class="p-button-secondary" size="small"></button>
        </div>
      </li>
    </ul>

    <div *ngIf="displayEditDialog" class="modal-container">
      <div class="surface-card p-4 shadow-2 border-round modal-content">
        <h3>Editar Correo</h3>

        <label for="editEmailAddress">Nuevo Correo Electrónico:</label>
        <input id="editEmailAddress" type="email" pInputText [(ngModel)]="selectedEmail.address" class="w-full mb-3" />

        <div class="flex justify-content-end mt-3">
          <button pButton label="Guardar" icon="pi pi-check" (click)="updateEmail()" class="mr-2" size="small"></button>
          <button pButton label="Cancelar" icon="pi pi-times" (click)="displayEditDialog = false" class="p-button-secondary"></button>
        </div>
      </div>
    </div>

    <div *ngIf="displayEditDialog" class="modal-backdrop"></div>
  </div>
</div>
